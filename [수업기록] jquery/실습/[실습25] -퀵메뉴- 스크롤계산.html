<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
        <style>
            @charset "utf-8";

            * {
                margin: 0;
                padding: 0;
            }

            body {
                font-family: "돋움", dotum, sans-serif;
                font-size: 12px;
                color: #000;
            }

            a {
                color: #666;
                text-decoration: none;
            }

            li {
                list-style: none;
            }

            #gnb {
                position: absolute;
                right: 0;
                width: 150px;
                background: #fff;
            }

            #gnb li a {
                display: block;
                padding: 8px 0;
                border-bottom: 1px solid #ccc;
                text-align: center;
            }

            #gnb li a:hover,
            #gnb li a:active,
            #gnb li a:focus {
                background: #eee;
                color: #000;
            }

            #gnb li a.on {
                background: #666;
                color: #fff;
            }

            div {
                height: 1000px;
                font-size: 150px;
                color: #fff;
                line-height: 1000px;
                text-align: center;
            }

            #m1 {
                background: #ff0000;
            }

            #m2 {
                background: #00ff00;
            }

            #m3 {
                background: #0000ff;
            }

            #m4 {
                background: #ff6600;
            }
            #top_bt {
                width: 30px;
                height: 30px;
                font-size: 16px;
                background: rgb(204, 198, 198);
                padding: 30px;
                border-radius: 50%;
                color: white;
                text-align: center;
                position: fixed;
                right: 0;
                bottom: 10%;
                cursor: pointer;
                display: none;
                font-size: 18px;
            }
        </style>
        <script src="http://code.jquery.com/jquery-latest.js"></script>
        <script>
            //top버튼이 나타나기
            $(function () {
                $(window).scroll(function () {
                    if ($(this).scrollTop() > 200) {
                        $("#top_bt").fadeIn("fast")
                    } else {
                        $("#top_bt").fadeOut("fast")
                    }
                })
                $("#top_bt").click(function () {
                    $("html,body").animate(
                        {
                            scrollTop: 0,
                        },
                        200
                    )
                })
            })
        </script>
    </head>
    <body>
        <p id="top_bt">top</p>
        <ul id="gnb">
            <li><a href="#m1">메뉴1</a></li>
            <li><a href="#m2">메뉴2</a></li>
            <li><a href="#m3">메뉴3</a></li>
            <li><a href="#m4">메뉴4</a></li>
        </ul>
        <div id="m1">CONTENT01</div>
        <div id="m2">CONTENT02</div>
        <div id="m3">CONTENT03</div>
        <div id="m4">CONTENT04</div>
    </body>
    <script>
        //스크롤에 움직이는 퀵메뉴
        var gnbA = $("#gnb>li>a")
        var TOP = $(window).height() / 2 - $("#gnb").height() / 2
        $("#gnb").css("top", TOP)

        // 퀵메뉴가 윈도우스크롤에 반응해 따라다님
        $(window).scroll(function () {
            var sct = $(this).scrollTop()
            var OT = $(this).height() / 2 - $("#gnb").height() / 2
            var MOVE = sct + OT
            if (sct >= OT) {
                $("#gnb").stop().animate(
                    {
                        top: MOVE,
                    },
                    300
                )
            }
        })

        // gnb클릭하면
        $("#gnb>li>a").click(function () {
            var i = $(this).parent().index()
            console.log(i)
            $("#gnb>li>a").removeClass("on")
            $("#gnb>li").eq(i).find("a").addClass("on")
        })
    </script>
</html>
