<!DOCTYPE html>

<html>
    <head>
        <title>jQuery Event</title>
        <script src="http://code.jquery.com/jquery-latest.js"></script>
        <style>
            .starRev .starR {
                background: url("ico_review.png") no-repeat right 0;
                background-size: auto 100%;
                width: 30px;
                height: 30px;
                display: inline-block;
                text-indent: -9999px;
                cursor: pointer;
            }

            .starRev .starR.on {
                background-position: 0 0;
            }
        </style>
    </head>

    <body>
        <div class="starRev">
            <span class="starR on">별1</span>
            <span class="starR">별2</span>
            <span class="starR">별3</span>
            <span class="starR">별4</span>
            <span class="starR">별5</span>
            <span class="starR">별6</span>
            <span class="starR">별7</span>
            <span class="starR">별8</span>
            <span class="starR">별9</span>
            <span class="starR">별10</span>
        </div>
        <h1><span></span>점</h1>
        <hr />
        <div class="starRev2">
            <span class="starR1 on">별1_왼쪽</span>
            <span class="starR2">별1_오른쪽</span>
            <span class="starR1">별2_왼쪽</span>
            <span class="starR2">별2_오른쪽</span>
            <span class="starR1">별3_왼쪽</span>
            <span class="starR2">별3_오른쪽</span>
            <span class="starR1">별4_왼쪽</span>
            <span class="starR2">별4_오른쪽</span>
            <span class="starR1">별5_왼쪽</span>
            <span class="starR2">별5_오른쪽</span>
        </div>
        <h1><span></span>점</h1>
    </body>
    <style>
        .starRev2 .starR1 {
            background: url("./ico_review.png") no-repeat -52px 0;
            background-size: auto 100%;
            width: 15px;
            height: 30px;
            float: left;
            text-indent: -9999px;
            cursor: pointer;
        }

        .starRev2 .starR2 {
            background: url("./ico_review.png") no-repeat right 0;
            background-size: auto 100%;
            width: 15px;
            height: 30px;
            float: left;
            text-indent: -9999px;
            cursor: pointer;
        }

        .starRev2 .starR1.on {
            background-position: 0 0;
        }

        .starRev2 .starR2.on {
            background-position: -15px 0;
        }
    </style>
    <script>
        //------------한 칸짜리 별
        $(".starRev span").click(function () {
            $(this).parent().children("span").removeClass("on") // 클릭된 것들 초기화
            $(this).addClass("on").prevAll().addClass("on") // 클릭하면 자기 앞의 형제들까지 포함해서 on클래스

            var point = $(this).prevAll("span").length + 1 //자기 앞의 형제들의 개수+1
            $(".starRev").next().find("span").text(point)
        })
        //------------반쪽짜리 별
        $(".starRev2 span").click(function () {
            $(this).parent().children("span").removeClass("on") // 클릭된 것들 초기화
            $(this).addClass("on").prevAll().addClass("on") // 클릭하면 자기 앞의 형제들까지 포함해서 on클래스

            var point2 = ($(this).prevAll("span").length + 1) / 2
            $(".starRev2").next().find("span").text(point2)
        })
    </script>
</html>
